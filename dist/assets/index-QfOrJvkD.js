(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))d(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&d(s)}).observe(document,{childList:!0,subtree:!0});function f(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function d(t){if(t.ep)return;t.ep=!0;const n=f(t);fetch(t.href,n)}})();document.addEventListener("DOMContentLoaded",()=>{document.getElementById("board");const i=document.querySelectorAll(".cell"),l=document.getElementById("status"),f=document.getElementById("reset"),d=document.getElementById("score-x"),t=document.getElementById("score-o"),n=document.querySelector(".player.x .name"),s=document.querySelector(".player.o .name"),L=document.querySelector(".player.x"),C=document.querySelector(".player.o"),u=document.getElementById("play-again"),h=document.getElementById("nameModal"),I=document.getElementById("playerXName"),O=document.getElementById("playerOName"),N=document.getElementById("startGameBtn");let c="x",o=["","","","","","","","",""],m=!0,p={x:0,o:0},g="Player X",x="Player O";const B=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];function E(){i.forEach(e=>{e.textContent="",e.classList.remove("x","o","winner")}),o=["","","","","","","","",""],m=!0,u.style.display="none",l.classList.remove("celebrate"),P()}function S(e){const r=e.target,a=parseInt(r.getAttribute("data-index"));o[a]!==""||!m||(X(r,a),w())}function X(e,r){o[r]=c,e.textContent=c.toUpperCase(),e.classList.add(c)}function w(){let e=!1;for(let r=0;r<B.length;r++){const[a,y,v]=B[r];if(!(o[a]===""||o[y]===""||o[v]==="")&&o[a]===o[y]&&o[y]===o[v]){e=!0,k([a,y,v]);break}}if(e){q(c),G(c),m=!1,u.style.display="inline-block";return}if(!o.includes("")){A(),m=!1,u.style.display="inline-block";return}M()}function k(e){e.forEach(r=>{i[r].classList.add("winner")})}function q(e){l.textContent=`${b(e)} wins!`,l.classList.add("celebrate")}function A(){l.textContent="Game ended in a draw!"}function G(e){p[e]++,e==="x"?d.textContent=p.x:t.textContent=p.o}function M(){c=c==="x"?"o":"x",P()}function P(){l.textContent=`${b(c)}'s turn`,c==="x"?(L.classList.add("active"),C.classList.remove("active")):(C.classList.add("active"),L.classList.remove("active"))}function b(e){return e==="x"?g:x}i.forEach(e=>{e.addEventListener("click",S)}),f.addEventListener("click",E),u.addEventListener("click",E),N.addEventListener("click",()=>{g=I.value.trim()!==""?I.value:"Player X",x=O.value.trim()!==""?O.value:"Player O",n.textContent=g,s.textContent=x,h.style.display="none",E()}),h.style.display="flex"});
